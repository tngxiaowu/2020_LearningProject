<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
    {
      let fn = () => {};
      fn();
      console.log(typeof fn);
    }

    {
      let tellType = (arg) => {
        (typeof arg === 'function') ? arg(): console.log('the data is not a function');
      }

      tellType(1);

      let fnType = () => {
        console.log('I am a function');
      }

      tellType(fnType);
    }

    //3.1.4 
    {
      let crazy = () => {
        return String
      };

      let fn = crazy();

      fn(1);

      crazy()(123);
    }

    //3.2 高阶函数
    // 3.2.2 
    // 数组每一个元素执行fn函数
    {
      const forEachArray = (array, fn) => {
        for (let i = 0; i < array.length; i++) {
          fn(array[i]);
        }
      }
    // 对象每一个元素执行fn函数
      const forEachObject = (obj, fn) => {
        for (let property in obj) {
          if (obj.hasOenProperty(property)) {
            fn(property, obj[property]);
          }
        }
      }

      const unless = (predicate, fn) => {
        if (!predicate) {
          fn();
        }
      }
      

      // fn(number);  -> 判断数组中的元素是不是偶数 
      forEachArray([1, 2, 3, 4, 5, 6, 7], (number) => {
        unless((number % 2), () => {console.log(`${number} is Even`);})
      })

      // 我的代码  -> 判断数组中的元素是不是偶数 
      function isEven( arr ){
        for(let number of arr){
          if( number % 2 === 0 ){
            console.log( `${numver} is Even`);
          }
        }
      }


      const times = (times, fn) => {
        for (let i = 0; i < times; i++) {
          fn(i);
        }
      }

      times(100, (number) => {
        unless((number % 2), () => {
          console.log(`${number} is Even`);
        })
      })

      // 3.3 真实的高阶函数
      {
        // every函数的实现
        const every = (array, fn) => {
          let result = true;

          for (value of array)
            result = result && fn(value);
          return result;
        }

        console.log(every([NaN, 1, NaN], isNaN));

        // 3.3.2 some函数的实现
        const some = (array, fn) => {
          let result = true;
          for (value of array)
            result = result || fn(value);
          return result;
        }

        // 3.3.3 sort函数
        array.sort(compareFunction);

        const compareFunction = (a, b) => {
          if (a > b) {
            return -1
          } else if (a < b) {
            retrun + 1;
          } else {
            return 0;
          }
        }

        const sortBy = (property) => {
          return (a, b) => {
            var result = (a[property] > b[property]) ? -1 : (a[property] < b[property]) ? 1 : 0;
            return result;
          }
        }
      }


    }
  </script>

</body>

</html>